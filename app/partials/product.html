<img id="451_img_prod_lg" ng-src="{{variant.LargeImageFile.Url || product.LargeImageFile.Url}}" ng-show="variant.LargeImageFile.Url || product.LargeImageFile.Url">


<table id="451_area_prod_desc" border=1>
	<tr><td>name:</td><td>{{product.Name}}</td></tr>
	<tr><td>Description:</td><td><span ng-bind-html-unsafe="product.Description"/></td></tr>
	<tr ng-show="variant"><td>variant description:</td><td><span ng-bind-html-unsafe="variant.Description"/></td></tr>
</table>
<br>
<form name="addToOrderForm" ng-show="variant || product.Variants.length == 0">
	<table border=1 ng-show="hasLineItemSpecs(product.Specs)">
		<tr ng-repeat="s in listLineItemSpecs(product.Specs)">
			<td>{{s.Prefix}}{{s.Name}}{{s.Suffix}}<span ng-show="s.Required" style="color:red"> *</span> </td>
			<td><specfield ng-if="!s.Options.length"  />
				<selectionspec changed="specChanged" ng-if="s.Options.length" s="s"></selectionspec>
			</td>
		</tr>
	</table>
	<br>
	<quantityfield changed="calcTotal" ps='priceSchedule' v='variant' p='product' lineitem="LineItem" error="quantityError" /><span ng-show="quantityError">{{quantityError}}</span> <br>
	line total: {{LineItem.LineTotal | currency}}<br>

	<button ng-disabled="addToOrderForm.$invalid" ng-click="OrderService.addToOrder(quantity, product.InteropID, variant.InteropID)">Add to Order</button>
	<br>

    <span ng-show="priceSchedule.MinQuantity > 1">
        min: {{priceSchedule.MinQuantity}}<br/>
    </span>
    <span ng-show="priceSchedule.MaxQuantity">
        max: {{priceSchedule.MaxQuantity}}<br/>
    </span>

    <span ng-show="showInventory">
        available inventory: {{variant.QuantityAvailable || product.QuantityAvailable}}
    </span>
</form>

<priceScheduleTable ps='priceSchedule' p='product' ng-show="ps" />

<span id="451_list_vars" ng-show="product.Variants.length > 1 && !variant">variants({{product.Variants.length}})
    <ul>
		<li ng-repeat="v in product.Variants">
			<a href=#/product/{{product.InteropID}}/v/{{v.InteropID}}>{{v.ExternalID}}: {{v.InteropID}}</a>
		</li>
	</ul>
</span>
<staticspecstable specgroups="StaticSpecGroups"></staticspecstable><br>
<a ng-click="hideLineItemDebug = !hideLineItemDebug">toggle line item debug</a><br>
<span ng-show="!hideLineItemDebug">
		<hr>

		<span ng-bind-html-unsafe="DebugLineTotal"></span>
		<br>
		specs:
		<ul>
			<li ng-repeat="s in product.Specs"><span ng-show="s.MarkupType != 'NoMarkup'">markup: {{s.MarkupType}}</span> s.Name: {{s | json}}</li>
		</ul>
		<hr>
	</span>

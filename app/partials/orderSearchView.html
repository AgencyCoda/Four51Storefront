<section class="container order-search-view">
    <nav class="nav nav-cat-search">
        <hr />
        <ul>
            <li class="nav-header icon-plus details-show" ng-show='displayOrders' ng-click="showMega = ! showMega" href="#" style="display: block; font-size: 18px;cursor: pointer;"></li>
            <li >Orders</li>
            <li class="search" ng-click="toggle = !toggle">
                <span class="icon"><i class="icon-search"></i></span> <span class="hidden-sm hidden-xs">Search</span>
            </li>
        </ul>
        <hr />
    </nav>
    <div class=" order-search-toggle" ng-show="toggle" >
        <input type="text" ng-model="criteria.OrderID" placeholder="Order ID" /><br />
        <input type="text" ng-model="criteria.ShippingAddress" placeholder="Shipping Address" /><br />
        <input type="text" ui-date ng-model="criteria.DateRangeFrom" placeholder="From:" /><input type="text" ui-date ng-model="criteria.DateRangeTo" placeholder="To:" /><br />
        <input type="text" ng-model="criteria.LastN" placeholder="Last n Orders:" /><br />
        <input class="btn btn-small btn-info btn-block" value="Search" ng-click="OrderSearch($event, criteria); toggle = !toggle; showMega = ! showMega" /><br />
    </div>
    <div class="order-types"  ng-show="!toggle" ng-class="{ 'hidden': ! showMega }" >
        <!--- TODO panel divs should not display if no criteria.count --->
        <div class="panel panel-default">
            <div class="panel-heading panel-title">Standard Orders</div>
            <div class="panel-body">
                <ul>
                    <li ng-repeat="criteria in OrderSearchCriteria | onproperty:{ 'Model': 'OrderStats', 'Value': 'Standard'}" ng-show="criteria.Count">
                        {{criteria.Status}} <a ng-href="#" ng-click="OrderSearch($event,{{criteria}})"><span class="badge">{{criteria.Count}}</span></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading panel-title">Replenishment Orders</div>
            <div class="panel-body">
                <ul>
                    <li ng-repeat="criteria in OrderSearchCriteria | onproperty:{ 'Model': 'OrderStats', 'Value': 'Replenishment'}" ng-show="criteria.Count">
                        {{criteria.Status}} <a ng-href="#" ng-click="OrderSearch($event,{{criteria}})"><span class="badge" >{{criteria.Count}}</span></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading panel-title">Price Request</div>
            <div class="panel-body">
                <ul>
                    <li ng-repeat="criteria in OrderSearchCriteria | onproperty:{ 'Model': 'OrderStats', 'Value': 'PriceRequest'}" ng-show="criteria.Count">
                        {{criteria.Status}} <a ng-href="#" ng-click="OrderSearch($event,{{criteria}})"><span clas="badge">{{criteria.Count}}</span></a>
                    </li>
                </ul>
            </div>
        </div>
    <div class="container" ng-show='displayOrders' ng-hide="toggle">
        <table class="table table-striped table-hover table-bordered" ng-show="orders">
            <caption>{{orderSearchStat.Type}} - {{orderSearchStat.Status}}</caption>
            <thead>
                <tr>
                    <td>ID</td><td>Type</td><td>Status</td><td>Submitted By</td><td>DateCreated/Submitted</td><td>Total</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="order in orders">
                    <td><a ng-href="#/order/{{order.ID}}">{{order.ExternalID}}</a></td>
                    <td>{{order.Type}}</td>
                    <td>{{order.Status}}</td>
                    <td>{{order.FromUserFirstName + ' ' + order.FromUserLastName}}</td>
                    <td>{{order.DateSubmitted || order.DateCreated | date:'short'}}</td>
                    <td>{{order.Total | currency:"$"}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>